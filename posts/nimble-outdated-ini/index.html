<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Nim: Outdated nimble.ini - Over to you</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="Nim: Outdated nimble.ini"><meta itemprop=description content="I was interested today in trying to write a simple GUI program using Nim’s [nimx] library. But even with the latest Nim (2.0.0) and Nimble (0.14.2), I ran into this:
Reading official package list nimble.nim(683) getDownloadInfo Error: Package darwin@any version not found. This was confusing. I opened an issue on the nimx repo and the author pointed out that the darwin package is listed here, although I didn’t see it in this list."><meta itemprop=datePublished content="2023-08-05T19:28:22+01:00"><meta itemprop=dateModified content="2023-08-05T19:28:22+01:00"><meta itemprop=wordCount content="172"><meta itemprop=keywords content="tech,programming,nim,"><meta property="og:title" content="Nim: Outdated nimble.ini"><meta property="og:description" content="I was interested today in trying to write a simple GUI program using Nim’s [nimx] library. But even with the latest Nim (2.0.0) and Nimble (0.14.2), I ran into this:
Reading official package list nimble.nim(683) getDownloadInfo Error: Package darwin@any version not found. This was confusing. I opened an issue on the nimx repo and the author pointed out that the darwin package is listed here, although I didn’t see it in this list."><meta property="og:type" content="article"><meta property="og:url" content="https://overto.eu/posts/nimble-outdated-ini/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-05T19:28:22+01:00"><meta property="article:modified_time" content="2023-08-05T19:28:22+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Nim: Outdated nimble.ini"><meta name=twitter:description content="I was interested today in trying to write a simple GUI program using Nim’s [nimx] library. But even with the latest Nim (2.0.0) and Nimble (0.14.2), I ran into this:
Reading official package list nimble.nim(683) getDownloadInfo Error: Package darwin@any version not found. This was confusing. I opened an issue on the nimx repo and the author pointed out that the darwin package is listed here, although I didn’t see it in this list."><link rel=stylesheet type=text/css media=screen href=https://overto.eu/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://overto.eu/css/main.css><link id=dark-scheme rel=stylesheet type=text/css href=https://overto.eu/css/dark.css><script src=https://overto.eu/js/main.js></script></head><body><div class="container wrapper"><div class=header><h1 class=site-title><a href=https://overto.eu/>Over to you</a></h1><div class=site-description><nav class="nav social"><ul class=flat><span class=scheme-toggle><a href=# id=scheme-toggle></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/pages/learning>Learning</a></li><li><a href=/tags/music>Music</a></li><li><a href=/pages/software>Software</a></li><li><a href=/tags/tech>Tech</a></li></ul></nav></div><div class=post><div class=post-header><div class=meta><div class=date><span class=day>05</span>
<span class=rest>Aug 2023</span></div></div><div class=matter><h1 class=title>Nim: Outdated nimble.ini</h1></div></div><div class=markdown><div class=paragraph><p>I was interested today in trying to write a simple GUI program using Nim’s [nimx] library. But even with the latest Nim (2.0.0) and Nimble (0.14.2), I ran into this:</p></div><div class=listingblock><div class=content><pre class=highlight><code>    Reading official package list
nimble.nim(683)          getDownloadInfo

    Error:  Package darwin@any version not found.</code></pre></div></div><div class=paragraph><p>This was confusing. I opened an issue on the nimx repo and the author pointed out that the <code>darwin</code> package is listed <a href=https://github.com/nim-lang/packages/blob/e52b18948feb1cca13ada322218aa19d03ef4fd4/packages.json#L19341C3-L19353>here</a>, although I didn’t see it in <a href=https://nim-lang.org/nimble/packages.json>this list</a>. So I started blowing away Nimble’s local package files, then eventually the file <code>~/.config/nimble/nimble.ini</code> which contained URLs for multiple <code>package.json</code> files. I can’t reproduce it here because the next thing I tried was to delete that file, but it did seem to include a link to the Github repo.</p></div><div class=paragraph><p>In any case, deleting it and then running <code>nimble update</code> seems to have fixed the situation. I’m not sure how it ended up in that state, but perhaps some change was introduced to Nimble that wasn’t backward compatible with old installations (going back to 2019, around 4 years ago).</p></div><div class=listingblock><div class=content><pre class=highlight><code>¯\_(ツ)_/¯</code></pre></div></div></div><div class=tags><ul class=flat><li class=tag-li><a href=/tags/tech>tech</a></li><li class=tag-li><a href=/tags/programming>programming</a></li><li class=tag-li><a href=/tags/nim>nim</a></li></ul></div><div class=back><a href=https://overto.eu/><span aria-hidden=true>← Back</span></a></div><div class=back></div></div></div><div class="footer wrapper"><nav class=nav><div>2023</div></nav></div></body></html>