<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Defold Android build issue: Problem parsing the package - Over to you</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="Defold Android build issue: Problem parsing the package"><meta itemprop=description content="While working on my first hobby gamedev project with Defold, I ran into an issue when trying to install the debug APK on my Android phone:
There was a problem parsing the package.
Searching the Defold forums and the web didn’t produce anything obviously relevant, so I looked at the sample project and tried to figure out what was different in the project settings. Most of the configuration was the same (that is to say, default), so I tried looking at the contents of the APK with unzip -l."><meta itemprop=datePublished content="2023-07-05T01:59:25+01:00"><meta itemprop=dateModified content="2023-07-05T01:59:25+01:00"><meta itemprop=wordCount content="214"><meta itemprop=keywords content="gamedev,lua,android,"><meta property="og:title" content="Defold Android build issue: Problem parsing the package"><meta property="og:description" content="While working on my first hobby gamedev project with Defold, I ran into an issue when trying to install the debug APK on my Android phone:
There was a problem parsing the package.
Searching the Defold forums and the web didn’t produce anything obviously relevant, so I looked at the sample project and tried to figure out what was different in the project settings. Most of the configuration was the same (that is to say, default), so I tried looking at the contents of the APK with unzip -l."><meta property="og:type" content="article"><meta property="og:url" content="https://overto.eu/posts/defold-problem-parsing-package/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-05T01:59:25+01:00"><meta property="article:modified_time" content="2023-07-05T01:59:25+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Defold Android build issue: Problem parsing the package"><meta name=twitter:description content="While working on my first hobby gamedev project with Defold, I ran into an issue when trying to install the debug APK on my Android phone:
There was a problem parsing the package.
Searching the Defold forums and the web didn’t produce anything obviously relevant, so I looked at the sample project and tried to figure out what was different in the project settings. Most of the configuration was the same (that is to say, default), so I tried looking at the contents of the APK with unzip -l."><link rel=stylesheet type=text/css media=screen href=https://overto.eu/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://overto.eu/css/main.css><link id=dark-scheme rel=stylesheet type=text/css href=https://overto.eu/css/dark.css><script src=https://overto.eu/js/main.js></script></head><body><div class="container wrapper"><div class=header><h1 class=site-title><a href=https://overto.eu/>Over to you</a></h1><div class=site-description><nav class="nav social"><ul class=flat><span class=scheme-toggle><a href=# id=scheme-toggle></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/pages/learning>Learning</a></li><li><a href=/tags/music>Music</a></li><li><a href=/pages/software>Software</a></li><li><a href=/tags/tech>Tech</a></li></ul></nav></div><div class=post><div class=post-header><div class=meta><div class=date><span class=day>05</span>
<span class=rest>Jul 2023</span></div></div><div class=matter><h1 class=title>Defold Android build issue: Problem parsing the package</h1></div></div><div class=markdown><div class=paragraph><p>While working on my first hobby gamedev project with Defold, I ran into an issue when trying to install the debug APK on my Android phone:</p></div><div class=quoteblock><blockquote><div class=paragraph><p>There was a problem parsing the package.</p></div></blockquote></div><div class=paragraph><p>Searching the Defold forums and the web didn’t produce anything obviously relevant, so I looked at the sample project and tried to figure out what was different in the project settings. Most of the configuration was the same (that is to say, default), so I tried looking at the contents of the APK with <code>unzip -l</code>. Yes, an APK is just a zipfile that seems to follow JAR conventions.</p></div><div class=paragraph><p>Inside the APK, I noticed a file named <code>lib/arm64-v8a/libpitch_instinct.so</code>. But the example project’s APK had <code>lib/arm64-v8a/libColorslidetutorial.so</code>. Surely it wouldn’t just be that an underscore is verboten there?</p></div><div class=paragraph><p>That filename is derived from the project title (with spaces and some other chars stripped), defined in the file <code>game.project</code>. I tried renaming mine from <code>pitch_instinct</code> to <code>Pitch instinct</code> and lo and behold, the APK installs on my phone without issue.</p></div><div class=paragraph><p>Now, I don’t know if it’s literally that library file within the APK that’s the problem — more likely I’d guess that it’s something in one of the 3 different manifest files: <code>AndroidManifest.xml</code>, <code>assets/game.dmanifest</code> and <code>META-INF/MANIFEST.MF</code>.</p></div><div class=paragraph><p>Hope this might help you in your journeys.</p></div></div><div class=tags><ul class=flat><li class=tag-li><a href=/tags/gamedev>gamedev</a></li><li class=tag-li><a href=/tags/lua>lua</a></li><li class=tag-li><a href=/tags/android>android</a></li></ul></div><div class=back><a href=https://overto.eu/><span aria-hidden=true>← Back</span></a></div><div class=back></div></div></div><div class="footer wrapper"><nav class=nav><div>2023</div></nav></div></body></html>